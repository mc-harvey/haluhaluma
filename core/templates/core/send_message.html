{% extends 'base.html' %}

{% block content %}
<h2 class="text-2xl font-bold mb-4">Send New Message</h2>

<form method="post" class="space-y-4">
    {% csrf_token %}
    {{ form.non_field_errors }} {# Display form-wide errors #}

    <div>
        <label for="{{ form.receiver.id_for_label }}" class="block text-sm font-medium text-gray-700">Recipient:</label>
        {{ form.receiver }}
        {% if form.receiver.errors %}
            <p class="text-red-500 text-sm mt-1">{{ form.receiver.errors|striptags }}</p>
        {% endif %}
    </div>

    <div>
        <label for="{{ form.subject.id_for_label }}" class="block text-sm font-medium text-gray-700">Subject:</label>
        {{ form.subject }}
        {% if form.subject.errors %}
            <p class="text-red-500 text-sm mt-1">{{ form.subject.errors|striptags }}</p>
        {% endif %}
    </div>

    <div>
        <label for="{{ form.body.id_for_label }}" class="block text-sm font-medium text-gray-700">Message:</label>
        {{ form.body }}
        {% if form.body.errors %}
            <p class="text-red-500 text-sm mt-1">{{ form.body.errors|striptags }}</p>
        {% endif %}
    </div>

    <div class="flex space-x-2">
        <button type="submit" class="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600">Send Message</button>
        <a href="{% url 'inbox' %}" class="px-4 py-2 bg-gray-300 rounded-md hover:bg-gray-400">Cancel</a>
    </div>
</form>
{% endblock %}